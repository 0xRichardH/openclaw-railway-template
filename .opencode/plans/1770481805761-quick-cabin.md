# Plan: Configure OpenCode in Docker

## Phase 1: Understanding & Verification
- [x] Read `docker/opencode.jsonc` and `Dockerfile`.
- [x] Read `docker/entrypoint.sh` to determine the runtime user (found: `root`).
- [x] Verify `opencode.jsonc` needs to be converted to strict JSON (trailing commas found).

## Phase 2: Implementation Design
- [ ] Fix trailing commas in `docker/opencode.jsonc` to ensure valid JSON.
    - Remove comma after `"input_newline": "shift+return"`
    - Remove comma after `"apiKey": "{env:CRS_AUTH_TOKEN}"`
- [ ] Modify `Dockerfile` to copy `docker/opencode.jsonc` to `/root/.config/opencode/opencode.json`.
    - Insert `COPY docker/opencode.jsonc /root/.config/opencode/opencode.json` around line 67 (after `mise.toml` copy).

## Phase 3: Verification
- [ ] Verify `opencode.jsonc` is valid JSON (no trailing commas).
- [ ] Verify `Dockerfile` has the new instruction.
